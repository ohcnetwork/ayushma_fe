System.register(["jotai/vanilla"],function(P){"use strict";var f;return{setters:[function(S){f=S.atom}],execute:function(){P({atomFamily:z,atomWithDefault:U,atomWithObservable:tt,atomWithReducer:V,atomWithReset:T,atomWithStorage:Z,createJSONStorage:j,freezeAtom:F,freezeAtomCreator:K,loadable:nt,selectAtom:_,splitAtom:Q,unwrap:it});const S=P("RESET",Symbol());function T(e){const n=f(e,(o,u,i)=>{const r=typeof i=="function"?i(o(n)):i;u(n,r===S?e:r)});return n}function V(e,n){const o=f(e,(u,i,r)=>i(o,n(u(o),r)));return o}function z(e,n){let o=null;const u=new Map,i=r=>{let t;if(n===void 0)t=u.get(r);else for(const[c,s]of u)if(n(c,r)){t=s;break}if(t!==void 0)if(o!=null&&o(t[1],r))i.remove(r);else return t[0];const a=e(r);return u.set(r,[a,Date.now()]),a};return i.remove=r=>{if(n===void 0)u.delete(r);else for(const[t]of u)if(n(t,r)){u.delete(t);break}},i.setShouldRemove=r=>{if(o=r,!!o)for(const[t,a]of u)o(a[1],t)&&u.delete(t)},i}const L=(e,n,o)=>(n.has(o)?n:n.set(o,e())).get(o),J=new WeakMap,$=(e,n,o,u)=>{const i=L(()=>new WeakMap,J,n),r=L(()=>new WeakMap,i,o);return L(e,r,u)};function _(e,n,o=Object.is){return $(()=>{const u=Symbol(),i=([t,a])=>{if(a===u)return n(t);const c=n(t,a);return o(a,c)?a:c},r=f(t=>{const a=t(r),c=t(e);return c instanceof Promise||a instanceof Promise?Promise.all([c,a]).then(i):i([c,a])});return r.init=u,r},e,n,o)}const I=new WeakMap,C=(e,n)=>(I.has(n)?I:I.set(n,e())).get(n),x=e=>{if(typeof e!="object"||e===null)return;Object.freeze(e);const n=Object.getOwnPropertyNames(e);for(const o of n){const u=e[o];x(u)}return e};function F(e){return C(()=>f(n=>x(n(e)),(n,o,u)=>o(e,u)),e)}function K(e){return(...n)=>{const o=e(...n),u=o.read;return o.read=(i,r)=>x(u(i,r)),o}}const A=(e,n,o)=>(n.has(o)?n:n.set(o,e())).get(o),q=new WeakMap,B=(e,n,o)=>{const u=A(()=>new WeakMap,q,n);return A(e,u,o)},G={},R=e=>!!e.write,H=e=>typeof e=="function";function Q(e,n){return B(()=>{const o=new WeakMap,u=(t,a)=>{let c=o.get(t);if(c)return c;const s=a&&o.get(a),l=[],m=[];return t.forEach((h,b)=>{const v=n?n(h):b;m[b]=v;const g=s&&s.atomList[s.keyList.indexOf(v)];if(g){l[b]=g;return}const W=w=>{const d=w(i),y=w(e),k=u(y,d==null?void 0:d.arr).keyList.indexOf(v);if(k<0||k>=y.length){const p=t[u(t).keyList.indexOf(v)];if(p)return p;throw new Error("splitAtom: index out of bounds for read")}return y[k]},O=(w,d,y)=>{const k=w(i),p=w(e),M=u(p,k==null?void 0:k.arr).keyList.indexOf(v);if(M<0||M>=p.length)throw new Error("splitAtom: index out of bounds for write");const at=H(y)?y(p[M]):y;d(e,[...p.slice(0,M),at,...p.slice(M+1)])};l[b]=R(e)?f(W,O):f(W)}),s&&s.keyList.length===m.length&&s.keyList.every((h,b)=>h===m[b])?c=s:c={arr:t,atomList:l,keyList:m},o.set(t,c),c},i=f(t=>{const a=t(i),c=t(e);return u(c,a==null?void 0:a.arr)});i.init=void 0;const r=R(e)?f(t=>t(i).atomList,(t,a,c)=>{switch(c.type){case"remove":{const s=t(r).indexOf(c.atom);if(s>=0){const l=t(e);a(e,[...l.slice(0,s),...l.slice(s+1)])}break}case"insert":{const s=c.before?t(r).indexOf(c.before):t(r).length;if(s>=0){const l=t(e);a(e,[...l.slice(0,s),c.value,...l.slice(s)])}break}case"move":{const s=t(r).indexOf(c.atom),l=c.before?t(r).indexOf(c.before):t(r).length;if(s>=0&&l>=0){const m=t(e);s<l?a(e,[...m.slice(0,s),...m.slice(s+1,l),m[s],...m.slice(l)]):a(e,[...m.slice(0,l),m[s],...m.slice(l,s),...m.slice(s+1)])}break}}}):f(t=>t(i).atomList);return r},e,n||G)}function U(e){const n=Symbol(),o=f(n),u=f((i,r)=>{const t=i(o);return t!==n?t:e(i,r)},(i,r,t)=>{if(t===S)r(o,n);else if(typeof t=="function"){const a=i(u);r(o,t(a))}else r(o,t)});return u}const X=e=>typeof(e==null?void 0:e.then)=="function";function j(e){let n,o;const u={getItem:(i,r)=>{var t,a;const c=l=>{if(l=l||"",n!==l){try{o=JSON.parse(l)}catch{return r}n=l}return o},s=(a=(t=e())==null?void 0:t.getItem(i))!=null?a:null;return X(s)?s.then(c):c(s)},setItem:(i,r)=>{var t;return(t=e())==null?void 0:t.setItem(i,JSON.stringify(r))},removeItem:i=>{var r;return(r=e())==null?void 0:r.removeItem(i)}};return typeof window<"u"&&typeof window.addEventListener=="function"&&(u.subscribe=(i,r,t)=>{if(!(e()instanceof window.Storage))return()=>{};const a=c=>{if(c.storageArea===e()&&c.key===i){let s;try{s=JSON.parse(c.newValue||"")}catch{s=t}r(s)}};return window.addEventListener("storage",a),()=>{window.removeEventListener("storage",a)}}),u}const Y=j(()=>typeof window<"u"?window.localStorage:void 0);function Z(e,n,o=Y,u){const i=u==null?void 0:u.unstable_getOnInit,r=f(i?o.getItem(e,n):n);return r.onMount=t=>{i||t(o.getItem(e,n));let a;return o.subscribe&&(a=o.subscribe(e,t,n)),a},f(t=>t(r),(t,a,c)=>{const s=typeof c=="function"?c(t(r)):c;return s===S?(a(r,n),o.removeItem(e)):s instanceof Promise?s.then(l=>(a(r,l),o.setItem(e,l))):(a(r,s),o.setItem(e,s))})}function tt(e,n){const o=i=>{if("e"in i)throw i.e;return i.d},u=f(i=>{var r;let t=e(i);const a=(r=t[Symbol.observable])==null?void 0:r.call(t);a&&(t=a);let c;const s=()=>new Promise(d=>{c=d}),l=n&&"initialValue"in n?{d:typeof n.initialValue=="function"?n.initialValue():n.initialValue}:s();let m,h;const b=d=>{h=d,c==null||c(d),m==null||m(d)};let v,g;const W=()=>!m,O=()=>{v&&(clearTimeout(g),v.unsubscribe()),v=t.subscribe({next:d=>b({d}),error:d=>b({e:d}),complete:()=>{}}),W()&&n!=null&&n.unstable_timeout&&(g=setTimeout(()=>{v&&(v.unsubscribe(),v=void 0)},n.unstable_timeout))};O();const w=f(h||l);return w.onMount=d=>(m=d,h&&d(h),v?clearTimeout(g):O(),()=>{m=void 0,v&&(v.unsubscribe(),v=void 0)}),[w,t,s,O,W]});return f(i=>{const[r]=i(u),t=i(r);return t instanceof Promise?t.then(o):o(t)},(i,r,t)=>{const[a,c,s,l,m]=i(u);if("next"in c)m()&&(r(a,s()),l()),c.next(t);else throw new Error("observable is not subject")})}const E=new WeakMap,et=(e,n)=>(E.has(n)?E:E.set(n,e())).get(n),D={state:"loading"};function nt(e){return et(()=>{const n=new WeakMap,o=f(0),u=f((i,{setSelf:r})=>{i(o);let t;try{t=i(e)}catch(s){return{state:"hasError",error:s}}if(!(t instanceof Promise))return{state:"hasData",data:t};const a=t;return n.get(a)||(n.set(a,D),a.then(s=>{n.set(a,{state:"hasData",data:s})},s=>{n.set(a,{state:"hasError",error:s})}).finally(r),D)},(i,r)=>{r(o,t=>t+1)});return f(i=>i(u))},e)}const N=(e,n,o)=>(n.has(o)?n:n.set(o,e())).get(o),ot=new WeakMap,rt=(e,n,o)=>{const u=N(()=>new WeakMap,ot,n);return N(e,u,o)},st=()=>{};function it(e,n=st){return rt(()=>{const o=new WeakMap,u=new WeakMap,i=f(0),r=f((t,{setSelf:a})=>{t(i);const c=t(r),s=t(e);if(!(s instanceof Promise))return{v:s};if(s===(c==null?void 0:c.p)){if(o.has(s))throw o.get(s);if(u.has(s))return{p:s,v:u.get(s)}}return s!==(c==null?void 0:c.p)&&s.then(l=>u.set(s,l),l=>o.set(s,l)).finally(a),c&&"v"in c?{p:s,f:n(c.v)}:{p:s,f:n()}},(t,a)=>{a(i,c=>c+1)});return r.init=void 0,f(t=>{const a=t(r);return"v"in a?a.v:a.f},e.write)},e,n)}}}});
